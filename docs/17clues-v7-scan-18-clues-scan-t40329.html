<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-gb" xml:lang="en-gb">
<head>
<base href="./"/>
<link rel="canonical" href="./17clues-v7-scan-18-clues-scan-t40329.html" />
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<title>17clues V7 scan 18 clues scan : Software</title>
<meta http-equiv="content-style-type" content="text/css" />
<meta http-equiv="content-language" content="en-gb" />
<meta http-equiv="imagetoolbar" content="no" />
<meta name="content-language" content="en" />
<meta name="title" content="17clues V7 scan 18 clues scan : Software" />
<meta name="description" content="After the scan in V6 looking for 17 clues in solution grids, after some work on one solution grid to find 18 clues having as ..." />
<meta name="keywords" content="clue, such, scan, clues, play, least, link, https" />
<meta name="category" content="general" />
<meta name="robots" content="index,follow" />
<meta name="distribution" content="global" />
<meta name="resource-type" content="document" />
<meta name="copyright" content="The New Sudoku Players Forum" />




<!--
	phpBB style name: prosilver
	Based on style:   prosilver (this is the default phpBB3 style)
	Original author:  Tom Beddard ( http://www.subBlue.com/ )
	Modified by:
-->

<script type="text/javascript">
// <![CDATA[
	var jump_page = 'Enter the page number you wish to go to:';
	var on_page = '1';
	var per_page = '';
	var base_url = '';
	var style_cookie = 'phpBBstyle';
	var style_cookie_settings = '; path=/; domain=forum.enjoysudoku.com';
	var onload_functions = new Array();
	var onunload_functions = new Array();
	// www.phpBB-SEO.com SEO TOOLKIT BEGIN
	var seo_delim_start = '-';
	var seo_static_pagination = 'page';
	var seo_ext_pagination = '.html';
	var seo_external = true;
	var seo_external_sub = false;
	var seo_ext_classes = false;
	var seo_hashfix = false;
	// www.phpBB-SEO.com SEO TOOLKIT END

	

	/**
	* Find a member
	*/
	function find_username(url)
	{
		popup(url, 760, 570, '_usersearch');
		return false;
	}

	/**
	* New function for handling multiple calls to window.onload and window.unload by pentapenguin
	*/
	window.onload = function()
	{
		for (var i = 0; i < onload_functions.length; i++)
		{
			eval(onload_functions[i]);
		}
	};

	window.onunload = function()
	{
		for (var i = 0; i < onunload_functions.length; i++)
		{
			eval(onunload_functions[i]);
		}
	};

// ]]>
</script>
<script type="text/javascript" src="./styles/prosilver/template/styleswitcher.js"></script>
<script type="text/javascript" src="./styles/prosilver/template/forum_fn.js"></script>

<link href="./styles/prosilver/theme/print.css" rel="stylesheet" type="text/css" media="print" title="printonly" />
<link href="style.css" rel="stylesheet" type="text/css" media="screen, projection" />

<link href="./styles/prosilver/theme/normal.css" rel="stylesheet" type="text/css" title="A" />
<link href="./styles/prosilver/theme/medium.css" rel="alternate stylesheet" type="text/css" title="A+" />
<link href="./styles/prosilver/theme/large.css" rel="alternate stylesheet" type="text/css" title="A++" />



</head>

<body id="phpbb" class="section-viewtopic ltr">

<div id="wrap">
	<a id="top" name="top" accesskey="t"></a>
	<div id="page-header">
		<div class="headerbar">
			<div class="inner"><span class="corners-top"><span></span></span>

			<div id="site-description">
				<a href="./" title="Board index" id="logo"><img src="./styles/prosilver/imageset/site_logo.gif" width="52" height="52" alt="" title="" /></a>
				<h1>The New Sudoku Players' Forum</h1>
				<p>ARCHIVED by 1to9only</p>
				<p class="skiplink"><a href="#start_here">Skip to content</a></p>
			</div>

		
			<div id="search-box">
				<form action="./search.php" method="get" id="search">
				<fieldset>
					<input name="keywords" id="keywords" type="text" maxlength="128" title="Search for keywords" class="inputbox search" value="Search…" onclick="if(this.value=='Search…')this.value='';" onblur="if(this.value=='')this.value='Search…';" />
					<input class="button2" value="Search" type="submit" /><br />
					<a href="./search.php" title="View the advanced search options">Advanced search</a> <input type="hidden" name="sid" value="00000000000000000000000000000000" />

				</fieldset>
				</form>
			</div>
		

			<span class="corners-bottom"><span></span></span></div>
		</div>

		<div class="navbar">
			<div class="inner"><span class="corners-top"><span></span></span>

			<ul class="linklist navlinks">
				<li class="icon-home"><a href="./" accesskey="h">Board index</a>  <strong>&#8249;</strong> <a href="./sudoku-the-puzzle-f5.html">Sudoku: the puzzle</a> <strong>&#8249;</strong> <a href="./software-f18.html">Software</a></li>

				<li class="rightside"><a href="#" onclick="fontsizeup(); return false;" onkeypress="return fontsizeup(event);" class="fontsize" title="Change font size">Change font size</a></li>

				<li class="rightside"><a href="./viewtopic.php?f=18&amp;t=40329&amp;start=0&amp;view=print" title="Print view" accesskey="p" class="print">Print view</a></li>
			</ul>

			

			<ul class="linklist rightside">
				<li class="icon-faq"><a href="./faq.php" title="Frequently Asked Questions">FAQ</a></li>
				<li class="icon-register"><a href="./ucp.php?mode=register">Register</a></li>
					<li class="icon-logout"><a href="./ucp.php?mode=login" title="Login" accesskey="x">Login</a></li>
				
			</ul>

			<span class="corners-bottom"><span></span></span></div>
		</div>

	</div>

	<a name="start_here"></a>
	<div id="page-body">
		
<h2><a href="./17clues-v7-scan-18-clues-scan-t40329.html">17clues V7 scan 18 clues scan</a></h2>
<!-- NOTE: remove the style="display: none" when you want to have the forum description on the topic body --><div style="display: none !important;">Programs which generate, solve, and analyze Sudoku puzzles<br /></div>

<div class="topic-actions">

	<div class="buttons">
	
		<div class="reply-icon"><a href="./posting.php?mode=reply&amp;f=18&amp;t=40329" title="Post a reply"><span></span>Post a reply</a></div>
	
	</div>

	
		<div class="search-box">
			<form method="get" id="topic-search" action="./search.php">
			<fieldset>
				<input class="inputbox search tiny"  type="text" name="keywords" id="search_keywords" size="20" value="Search this topic…" onclick="if(this.value=='Search this topic…')this.value='';" onblur="if(this.value=='')this.value='Search this topic…';" />
				<input class="button2" type="submit" value="Search" />
				<input type="hidden" name="t" value="40329" />
<input type="hidden" name="sf" value="msgonly" />
<input type="hidden" name="sid" value="00000000000000000000000000000000" />

			</fieldset>
			</form>
		</div>
	
		<div class="pagination">
			9 posts
			 &bull; Page <strong>1</strong> of <strong>1</strong>
		</div>
	

</div>
<div class="clear"></div>


	<div id="p325133" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			
				<ul class="profile-icons">
					<li class="quote-icon"><a href="./posting.php?mode=quote&amp;f=18&amp;p=325133" title="Reply with quote"><span>Reply with quote</span></a></li>
				</ul>
			

			<h3 class="first"><a href="./17clues-v7-scan-18-clues-scan-t40329.html#p325133">17clues V7 scan 18 clues scan</a></h3>
			<p class="author"><a href="./post325133.html#p325133"><img src="./styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a>by <strong><a href="./member2679.html">champagne</a></strong> &raquo; Sun Sep 11, 2022 7:03 am </p>

			

			<div class="content">After the scan in V6 looking for 17 clues in solution grids,<br />after some work on one solution grid to find 18 clues having as reference Blue's DLL <br /><br />I wanted to try to set up a 18 clues scan similar to the 17 clues scan, using the best recent findings.<br />I wanted also to make it public with as many comments as possible.<br /><br />This is a long way and to stay on the safe side, I start with a revision of the 17 scan (V7) easier to test. The switch to 18 clues will come later. <br />Where I am, my best estimate is to have the V7 (17 clues) by the end of this year (2022) with all comments ready.<br /><br />the repository for the code is <a href="https://github.com/GPenet/Sk_S17VB" class="postlink" rel="nofollow">here</a><br /><br />I hope to have at the end a 18 scan as fast as the 17 scan used to check the 17 clues sudoku list.<br /><br />I open the thread with several posst locked to have one post for each topic needing specific comments.<br /><br />References:  <br /><br />It is difficult to give all sources of this program.  Surely, many pieces of information came from the “new sudoku players forum”, but 3 direct or indirect contributors have to be mentioned:<br /><br /> zhouyundong_2012 who delivered a code performing well for a “brute force solver”. Many variants of this code are in use in this program.<br /><br />Mladen Dobrichev who gave me the right way to produce unavoidable sets, but has long ago helped me in many technical aspects of the C++<br /><br />And surely Blue who shared with me many things but mainly is the true inventor of the “divide and conquer” process applied in this program.</div>

			
				<div class="notice">Last edited by <a href="./member2679.html">champagne</a> on Sun Sep 11, 2022 7:26 am, edited 1 time in total.
					
				</div>
			

		</div>

		
			<dl class="postprofile" id="profile325133">
			<dt>
				<a href="./member2679.html">champagne</a>
			</dt>

			<dd>2017 Supporter</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 7279</dd><dd><strong>Joined:</strong> 02 August 2007</dd><dd><strong>Location:</strong> France Brittany</dd>
			<dd>
				<ul class="profile-icons">
					<li class="web-icon"><a href="http://pagesperso-orange.fr/gpenet/" title="WWW: http://pagesperso-orange.fr/gpenet/"><span>Website</span></a></li>
				</ul>
			</dd>
		

		</dl>
	

		<div class="back2top"><a href="./17clues-v7-scan-18-clues-scan-t40329.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p325134" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			
				<ul class="profile-icons">
					<li class="quote-icon"><a href="./posting.php?mode=quote&amp;f=18&amp;p=325134" title="Reply with quote"><span>Reply with quote</span></a></li>
				</ul>
			

			<h3 ><a href="./17clues-v7-scan-18-clues-scan-t40329.html#p325134">Abstract</a></h3>
			<p class="author"><a href="./post325134.html#p325134"><img src="./styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a>by <strong><a href="./member2679.html">champagne</a></strong> &raquo; Sun Sep 11, 2022 7:04 am </p>

			

			<div class="content">This a brief description of the process applied to search low clues in solution grids (5 472 730 538 ED “NED” solution grids).<br /><br />The search of ED sudokus with a low count of clues has been considered in different ways:<br />To prove that 17 clues is the minimum to have a valid grid (unique solution), (published by Gary McGuire in august 2013)<br />To find all 17 clues puzzles (showing that the 49158 list was exhaustive) in the years 2017-2022<br />And, with the last version of the process, to explore the 18 clues field.<br /><br />Starting with the 17 clues search, the process has completely changed. The general strategy has been established by “blue”, with impressive results. <br />See  <a href="./bands-and-low-clue-puzzles-t30218-120.html" class="postlink" rel="nofollow">./bands-and-low-clue-puzzles-t30218-120.html</a><br /><br />Many variants of the initial strategy have been tested, partly shared of just available through .exe  or DLL.<br /><br />Here is my last version for this process. I’ll add some comments when the strategy differs from blue’s attack.<br /><br />A 2 bands attack  <br /><br />To do an exhaustive search, the best agreed way is to search each of the 5 472 730 538 ED solution grids. This process uses unavoidable sets to limit the search.<br />Note: an unavoidable set (UA) is a group of cells for which a clue is needed to avoid a multiple solution.<br /><br />In the proof that no 16 exists, each solution grid has been considered separately.<br /><br />Here, in three runs, the solutions grids are “sorted” to have all bands 3 attached to a pair {band1, band2}. The ED solution grids are morphed to attach as many solution grids as possible to “bands 1” having less valid bands.<br />Using UAs, possible valid {band1, band2) are produced, and then each of the bands 3 attached is checked using this valid {band1, band2}.<br /><br />In the 17 clues search, as the number of valid {band 1, band2} increases sharply from 11 to 12 clues, the process is cut in 3 runs:<br />First run with any band/stack of the solution grids being once in band 3 with &gt;= 7 clues in band 3<br />Then the 665 distribution in bands and stacks split to exclude the case 665 in bands<br />One with 566,656 distributions<br />One with the 656 distribution where bands 2 and 3 of the former run are exchanged.<br /><br />In this process, UAs having 2 or three clues in band 3 play a key role. Other UAs with a small number of clues in band 3 are also used, but not as important as the former ones.<br />UAs with 2/3 clues in band 3 have all clues in a mini row. 2 different bands 3 can produce similar UAs, using a different mini row of the same stack. Seen from a pair {band1, band2}, such UAs have the same pattern if you just consider the columns and digits involved (here called socket). UAs reduced to the socket and the band 2 pattern have been called “gangster UA”.<br /><br />If a {gangster UA size 2} is defined, it exists in all bands 3, but the number of clues in band 3 can be 2 (best case) 4 or 6.<br /><br />There are many ways to implement this strategy, facing various problems. Blue started from a complete list of “valid band 1” and “valid band 2” in the range 3-7 clues. This was also the process in the V6 used for the 17 clues scan. In the V6, each band was expanded in live. Here, we have a direct expansion of the UAs belonging to bands 1 and 2 to produce the possible valid {band1, band2).<br /><br />In all cases, Additional UAs (both UAs in bands 1+2 and GUAs) appear in the process. They are used downstream. <br />At the end, contrary to what was done in the 16 clues scan, this process uses a very big number of UAs and GUAs (thousands). Selecting UAs of interest and using them efficiently will be a key point.<br /><br />The brute force control must be done at the end to see if a grid passing all UAs controls has a unique solution. This remains a costly task, even limited to bands 1+2. The check for bands 1+2 will be differed in many cases.<br /><br />Running the process with several cores working in parallel, several problems appear lowering the process. Cache effect and memory bus conflicts for example should be considered. <br /><br /> <br />Chapters summary.<br /><br /> The comments on the process are divided as follow:<br /><br />Chapter B entry builder<br />Chapter C initial harvest of unavoidable sets<br />Chapter D Bands “1+2” unavoidable sets expansion<br />Chapter E Minimal count for clues in bands 3 filter,<br />Chapter F final process for bands 3.<br /><br />And crossing topics:<br /><br />Chapter G Life of bands 1+2 unavoidable sets<br />Chapter H Life of gangster unavoidable sets.</div>

			
				<div class="notice">Last edited by <a href="./member2679.html">champagne</a> on Sun Sep 11, 2022 7:33 am, edited 1 time in total.
					
				</div>
			

		</div>

		
			<dl class="postprofile" id="profile325134">
			<dt>
				<a href="./member2679.html">champagne</a>
			</dt>

			<dd>2017 Supporter</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 7279</dd><dd><strong>Joined:</strong> 02 August 2007</dd><dd><strong>Location:</strong> France Brittany</dd>
			<dd>
				<ul class="profile-icons">
					<li class="web-icon"><a href="http://pagesperso-orange.fr/gpenet/" title="WWW: http://pagesperso-orange.fr/gpenet/"><span>Website</span></a></li>
				</ul>
			</dd>
		

		</dl>
	

		<div class="back2top"><a href="./17clues-v7-scan-18-clues-scan-t40329.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p325135" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			
				<ul class="profile-icons">
					<li class="quote-icon"><a href="./posting.php?mode=quote&amp;f=18&amp;p=325135" title="Reply with quote"><span>Reply with quote</span></a></li>
				</ul>
			

			<h3 ><a href="./17clues-v7-scan-18-clues-scan-t40329.html#p325135">Entry builder</a></h3>
			<p class="author"><a href="./post325135.html#p325135"><img src="./styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a>by <strong><a href="./member2679.html">champagne</a></strong> &raquo; Sun Sep 11, 2022 7:04 am </p>

			

			<div class="content"><span style="font-size: 150%; line-height: 116%;"><span style="color: #0000FF">B_ Entry Builder </span></span><br /><br />We must here process the ED solution grids in different ways. In all runs, the target is to get a list of ED solution grids morphed and sorted in the right way to enter the pairs band 1, band 2 and the attached band 3.<br /><br />In the first run (band 3 with &gt;= 7 clues), as each band/stack must be there at least once as band 3, several morphs of the same solution grids will be needed. We have here a lot of redundancy to clear to avoid NED x 9   bands 3.<br /><br />In the second run, we need exactly the NED solution grids sorted and morphed to be in the optimized sequence. <br /><br />In the third run, we have another sequence (and morph) of the same NED solution grids, but the pair band1, band2 can be erased if the minimum of clues in band 2 is 6 (very small number of cases)<br /><br />In fact, in the second run, a tiny number of pairs will deliver no valid pair &lt;= 11 clues. Several bands require 6 clues to be valid.  <br /><br />A built in ED solution grids generator has been coded to do that.<br /><br />Bands 1 appears in increasing number of known valid 6 clues internal table. This order is the index 0-415 for the process.<br /><br />Band 2 must have an index &gt;=  “index band 1” to avoid redundancy, consequently, when the index of band 1 grows, the number of bands 2 to consider goes done. This is a classical situation. The bonus here is that more bands 3 will be attached to bands1 having less valid solutions.<br /><br />The entry builder clears as much as possible the redundancy, detecting various isomorphism <br />Inside band 1<br />When band1 and band 2 have the same Id 0-415<br />When the three bands have the same id<br />Diagonal lower index sequence...<br /><br />As this is a very long process, The builder is in the program active for one band only. The minimum for the scan is 416 runs, one for each band 1, but smaller batches are possible and checkpoints are printed to limit the loss in case of failure.<br /><br />Live builder of the entry file has a marginal cost in the process. Using a processor Intel(R) Core(TM) i7-4770 CPU @ 3.40GHz  , the full generation of the entry file for the pass2  was done at a rate of 50K solution grids per second. The run time is shorter for the pass 1, with an output six times bigger.<br /><br />The summary of the entry builder is the following<br /><br />Pass  number of pairs   number of solution grids   ratio<br /><dl class="codebox"><dt>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></dt><dd><code>1&nbsp; &nbsp; &nbsp; &nbsp; 983 959 110&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;32 835 497 303&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 33.37<br />2&nbsp; &nbsp; &nbsp; &nbsp; 610 163 364&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;5 472 730 538&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 8.97<br />3&nbsp; &nbsp; &nbsp; &nbsp; 606 240 269&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; same&nbsp; </code></dd></dl><br /><br /><br />Pass1 will be limited to 10 clues in bands 1+2 (for 17 clues in total). Without redundancy cleaning, we should have 9 x NED, we have a little more than 6 x NED.<br /><br />Pass 2 and 3 will have 11 clues in bands 1+2, this will be by far the hardest part of the scan.<br /><br />The ratio 8.97 (number of bands 3 attached to a pair) is somehow misleading going from about 19 in the first index to 1 at the bottom of the table (with several bands 1 having no pair produced). In all cases, the search of valid bands 1+2 is shared, but the process specific to the band 3 remains partly specific to each band. Optimizing the shared part of this process is a critical part of the code.<br /><br />Pass 2 and pass3 have at the end a very similar number of pairs, Both, ignoring the small number of cases having no valid band 1+2 of size 11, have exactly NED bands 3. <br /><br />In the coding strategy, the shared part will prepare the “per band 3” process as much as possible.</div>

			
				<div class="notice">Last edited by <a href="./member2679.html">champagne</a> on Sun Sep 11, 2022 3:31 pm, edited 3 times in total.
					
				</div>
			

		</div>

		
			<dl class="postprofile" id="profile325135">
			<dt>
				<a href="./member2679.html">champagne</a>
			</dt>

			<dd>2017 Supporter</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 7279</dd><dd><strong>Joined:</strong> 02 August 2007</dd><dd><strong>Location:</strong> France Brittany</dd>
			<dd>
				<ul class="profile-icons">
					<li class="web-icon"><a href="http://pagesperso-orange.fr/gpenet/" title="WWW: http://pagesperso-orange.fr/gpenet/"><span>Website</span></a></li>
				</ul>
			</dd>
		

		</dl>
	

		<div class="back2top"><a href="./17clues-v7-scan-18-clues-scan-t40329.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p325136" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			
				<ul class="profile-icons">
					<li class="quote-icon"><a href="./posting.php?mode=quote&amp;f=18&amp;p=325136" title="Reply with quote"><span>Reply with quote</span></a></li>
				</ul>
			

			<h3 ><a href="./17clues-v7-scan-18-clues-scan-t40329.html#p325136">Harvest of unavoidable sets</a></h3>
			<p class="author"><a href="./post325136.html#p325136"><img src="./styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a>by <strong><a href="./member2679.html">champagne</a></strong> &raquo; Sun Sep 11, 2022 7:05 am </p>

			

			<div class="content"><span style="font-size: 150%; line-height: 116%;"><span style="color: #0000FF">C_ UAs Builder </span></span><br /><br /><span style="font-size: 150%; line-height: 116%;"><span style="color: #0000FF">C1_ General </span></span><br /><br />The UAs strategy is a very important point. <br /><br />In the proof that we have no valid 16 clues, The UAs used were of size &lt;= 12 and built using blueprints at the very beginning.<br /> In this process, we consider UAs of bigger size, up to 20 cells (more in some conditions). All UAs having a subset are discarded.<br />As shown blue, the number of UAs increases sharply with the size.  We have here to select “UAs of interest”. <br /><br />Here after 2 examples of “interest”.  <br /><br />In a valid solution, a band is “valid against it’s gangster”. The minimum set of UAs needed to solve the band is well known and is described in a table in the program. For some bands, UAs of size 18 expressing the known constraint “can not have 2 rows empty in a band” are needed.<br />In any grid, we cannot have 2 digits missing. Again, this is an UA of size 18 if no subset exists.<br /><br /><span style="font-weight: bold"><span style="text-decoration: underline">The initial set of UAs.</span></span><br /><br />In the process, we merge an initial set of UAs and UAs appearing in the brute force checks.<br />Preparing the initial set of UAs is a shared task for the group of attached bands 3. If a UA has a chance to be used in the process, having it at the start can save time later.<br />This pushes to have an initial set as big as possible. The 3 main parameters to consider are:<br /><br />The cost to find such UAs<br />The probability to use it in the process<br />The cost in the process of a big number of UAs<br /><span style="font-weight: bold"><span style="text-decoration: underline"><br />Using Brute force to produce UAs</span></span><br /><br />Here UAs are produced using the brute force process. For example, to find UAs for a pair of digits all cells of other digits are given, and the brute force solver gives all possible solutions.<br />With more digits, we must clear subsets. In fact, the process works with an increasing number of digits and the UAs found with a lower number of digits are used as constraints in the guess step of the brute force.<br />Several brute force variants study digits in the range 2-6 and sub grids of interest, mainly bands 1+2, but also groups of 4 boxes in bands 1+2<br /><br /><span style="font-weight: bold"><span style="text-decoration: underline">UAs format</span></span><br /><br />The brute force used here is derived from the zhouyundong_2012.process. Each band is in a 32 field and the UA is in a 128 bits field.<br /><br />Most of the work in the process in done with UAs of the bands 1+2. <br />A switch 2x32 &lt;-&gt; 54 bits is done later to be mainly in 54 bits mode.<br /><br />For UAs of the whole grid, the rest is usually a 32 bits field UA for the band 3. As some of them play a specific role, A link to the corresponding band 3 pattern can replace the UA itself. (gangster pattern)<br /><br /><span style="font-size: 150%; line-height: 116%;"><span style="color: #0000FF">C2_ Gangster UAs and other UAs with clues in band 3 </span></span><br /><br /><span style="font-weight: bold"><span style="text-decoration: underline">UAs having 2/3 cells in band 3. </span></span><br /><br />From experience, we know that UAs having 2 cells in bands 3 play a key role in a scan where the first step is to find valid bands 1+2. Such UAs are in a mini row, usually disjoints, and often lead to a minimum count of clues in band 3 higher than the searched count. <br />To a lower extent, UAs having 3 cells in band 3, also in a mini row can increase the minimum count of clues.<br />For a solution grid, we can have 27 families of UAs with 2 cells and 9 families of UAs with 3 cells. <br />Here, we have several bands 3 attached to a pair bands 1+2. All UAs 2/ cells can be stored in gangster families depending on the {columns; digits} of the band 3. We have 81 such groups for UA2s (GUA2) and 81 groups for UA3s (GUA3).<br /><br /><span style="font-weight: bold"><span style="text-decoration: underline">Setup of GUAs an follow up</span></span><br /><br />A GUA will be produced using the brute force for bands 1+2, adjusting the initial pm to the digits exchange in band 3. Having from 27 to 81 GUA2 and from 9 to 81 GUA3. Even if the total size of the GUA is limited to 18/20 clues, this gives a very high number of GUAs. The use of such UAs will be a critical code.<br /><br />If for a valid bands1+2 a GUA is not hit in bands 1+2, one of the 2/3 digits must be there in band 3. <br />If for a given “band 3” the digits of the GUA are in the same mini row, we have the best case for the “band 3”;<br /><br /><span style="font-weight: bold"><span style="text-decoration: underline">UAs not GUA2 GUA3</span></span><br /><br />If the expected mini row is not there, we still have a residual UA in band 3 to use. This residual UA can have 4/6 cells if it is a GUA2. Other UAs not of the GUA2 GUA3 families can appear in the final check. Such UAs can be shared under some conditions between several bands 3<br />In fact, each band 3 will have it's own table of such UAs. At the start, a very limited number of them is searched :<br />UAs with 2 digits not in the GUA2s GUA3s families<br />UAs of the stacks (out of the internal table of UAs) with more than 3 clues in band 3. Such UAs can have more than 20 clues, but as they are needed to expand the band/stack, they have a good chance to stop the final step of the scan.<br /><br /><br />The final number of such UAs is usually below 50, but can be over 100.<br /><br /><br /><span style="font-size: 150%; line-height: 116%;"><span style="color: #0000FF">C3_ Initial Seed UAs pair</span></span><br /><br />The initial step of the UA builder is to collect all uas 2 digits. This is done first for the bands 1+2, then for each band3 and the 3 bands  giving  the initial set of UAs with cells in band 3.<br />In many cases, the grid is solved in once if one given is true and we have a UA of size 18 (can not have 2 digits missing in a sudoku).<br /><br />Here come all UAs of size 4, and many UAs of size 6,8,10,12,14. Each pair end with UAs totaling exactly 18 cells.<br />UAs are split to get those fully defined in bands 1+2, GUAs GUA3s and other UAs (UAas locked in band 3 are redundant with the internal table of uas)<br /><br /><span style="font-size: 150%; line-height: 116%;"><span style="color: #0000FF"><br />C4_ Initial setup for bands 1+2 </span></span><br /><br />Once the initial step done, the builder works only in bands 1+2. The number of digits grows from 3 to 6, giving UAs in the range 2xN – 9N.<br /><br />Note1: As the limit is 6 digits, all 12 digits UAs are there.  <br />Note 2: The storage limit (number of clues in a UA) is here &lt;25 clues. This is more a safety limit. In theory, we could reach 5x9=45 cells with 5 digits.<br /><br />In this initial setup, UAs used in each “4 box” sub grid not yet there are searched.<br /><br />This brute force uses previous found UAs. In the 4box step, these known UAs are the only filter for multiple solutions. (A direct expansion of these UAs could replace the current process.) We use here the same size limit of 25 clues for fresh UAs.<br /><br />The initial number of UAs varies in a very large range. In my first sampling, we are in the range 100-1300 with an average of 600 for the “band 1” index 1 and 1000-2300 with an average of 1560 for the “band 1” index 400. <br /><br />Finding the optimal cut off of the various parameters would require many tests. So far, looking for UAs with more than 6 clues seems too expensive (part of them come in the “4 box” step).<br /><br />At the end, UAs of the internal table no yet seen are added (one band UAs with more than  clues). Here, the cutoff is ignored. <br /> <br /><span style="font-size: 150%; line-height: 116%;"><span style="color: #0000FF">C5_ GUAs initial setup</span></span><br /><br /><br />Each of the 81 possible GUA2 sockets could more or less produce as many GUAS as the initial set for bands 1+2.  We can not get a code performing well with so many GUAs.<br /><br />For a given valid band 1+2, a socket will force a clue in band 3 for any GUA2 not hit in the family. The strategy will be to pick up the smallest GUA2s accepting the risk to miss some sockets. (We have the same risk limiting the UA size for bands 1+2)<br /><br />GUA3 sockets are of smaller interest; in most case, if a GUA3 socket is forced valid, a GUA2 socket subset of it will be valid as well. However, avoiding the last step of the process catching GUA3 socket with no subset is of interest.<br /><br />In the initial setup, GUA3s of small size will be searched as well. <br /><br />The other point is that we are only interested in GUAs that we can find for a valid band 1+2. Known UAs in bands 1+2 can be used as constraints in the brute force as in the UAs bands 1+2 generator.<br />The search is done step by step in creasing the number of digits. For a given socket, previous GUAs of the socket and UAs for the bands 1+2 are used as constraints.<br />Each of the 81+81 sockets is first filled with GUAs in “2x” mode (one band in a 32 bits field) to work easily with the brute force design.<br />Each table can contain 128 GUAs, but the GUAS with the biggest size are cleared when a “limit count” is reached. At the end, all GUAs exceeding a maximum count per socket are cleared.<br /><br />At the end of the initial harvest, all is sent in ”54 bits mode” in another set of 81+81 tables. The sub tables are dynamically allocated to the initial size plus room for later addition of fresh GUAs. Cells killing all the GUAs of the table are identified in a “54 bits field killer”. This killer will speed up later the set up of the GUAs filters <br /><br />A reasonable cutoff seems to be 30 gUA2s per socket and 20 GUA3s per socket.<br />Even with such limitations, we can have close to 2000 GUA2s and more than 1000 GUA3s.</div>

			
				<div class="notice">Last edited by <a href="./member2679.html">champagne</a> on Mon Oct 10, 2022 3:51 pm, edited 4 times in total.
					
				</div>
			

		</div>

		
			<dl class="postprofile" id="profile325136">
			<dt>
				<a href="./member2679.html">champagne</a>
			</dt>

			<dd>2017 Supporter</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 7279</dd><dd><strong>Joined:</strong> 02 August 2007</dd><dd><strong>Location:</strong> France Brittany</dd>
			<dd>
				<ul class="profile-icons">
					<li class="web-icon"><a href="http://pagesperso-orange.fr/gpenet/" title="WWW: http://pagesperso-orange.fr/gpenet/"><span>Website</span></a></li>
				</ul>
			</dd>
		

		</dl>
	

		<div class="back2top"><a href="./17clues-v7-scan-18-clues-scan-t40329.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p325137" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			
				<ul class="profile-icons">
					<li class="quote-icon"><a href="./posting.php?mode=quote&amp;f=18&amp;p=325137" title="Reply with quote"><span>Reply with quote</span></a></li>
				</ul>
			

			<h3 ><a href="./17clues-v7-scan-18-clues-scan-t40329.html#p325137">Bands 1+2 UAs expansion</a></h3>
			<p class="author"><a href="./post325137.html#p325137"><img src="./styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a>by <strong><a href="./member2679.html">champagne</a></strong> &raquo; Sun Sep 11, 2022 7:06 am </p>

			

			<div class="content"><span style="font-weight: bold"><span style="font-size: 150%; line-height: 116%;"><span style="color: #0000FF">D UAs expansion to produce valid bands 1+2<br /></span></span></span><br />Finding first valid bands 1+2 for a band 3 assumed fully solved is the key concept of blue’s approach.<br /><br />In the V6 process, valid bands 1+2 were searched using a matrix<br /> Valid bands1 x valid bands 2, checking for each matrix position if all UAs were hit.<br /><br />To do that, valid bands included redundant clues to have all possible valid solutions of “n” clues with n in the range 3-7. <br /><br />Here the process has changed. Valid bands 1+2 are produced directly out of the UAs list, in several steps. Doing so, we can get solutions with less clues than the target, a special process will manage this case.<br /><br />As in any such process, it’s important to use first the shortest UAs;<br /><br />In the process, we can look for valid bands having &lt;= 10 clues, 11 clues or 12 clues. <br /><br /><span style="font-weight: bold"><span style="text-decoration: underline">In the 17 clues search, </span></span><br /><br />pass 1 has 7 or more clues in band 3 &lt;= 10 clues in bands 1+2<br />pass2 has 6 clues in band 3 and a maximum of 6 clues in bands and stacks.<br /><span style="font-weight: bold"><span style="text-decoration: underline"><br />In the 18 clues search,</span></span><br /><br />pass 1 has 7 or more clues in band 3 &lt;= 11 clues in bands 1+2<br />pass2 has 6 clues in each band and each stack.<br /><br /><span style="font-weight: bold"><span style="font-size: 150%; line-height: 116%;"><span style="color: #0000FF">D.1 Minimum number of clues for 2 bands </span></span></span><br /><br />We know that the minimum number of clues for 2 bands is 7 with only 4 ED such sub puzzles <br />This has been discussed long ago (2014) in this thread.<br /><br /><a href="./minimum-number-of-clues-per-band-stack-t32120-105.html" class="postlink" rel="nofollow">./minimum-number-of-clues-per-band-stack-t32120-105.html</a><br /><br />We have no 17 with 7 clues in 2 bands, but some examples of 18 clues.<br />The number of valid bands 1+2 with no extra clue grows sharply in the area 7_12 clues.<br /><br />A specific function is written for each family of such valid bands 1+2, adding extra clues to a valid band 1+2 to scan the area from 0 added clue to the maximum searched.<br />Although the process is very similar for the same number of free clues, each case has it’s own function<br /><br />8to 10 9 to 10; <br />7to 11; 8 to 11;9 to 11; 10 to 11; <br />7 to 12; 8 to 12;9 to 12;10 to 12;11 to 12<br /><br />The first reason to have separate functions is  the different constraint to apply in bands and stack number of clues .<br />The second one is a safety measure. Mixing all cases to save coding add risks to have bugs.<br />The third one is that likely, at the end, the code will be split in 2 programs, one for the 17 search, one for the 18 search. The same remark will be valid for the main expansion functions.<br /><br />Below 7 clues, if the list of still available UAs is empty, it can not be a valid pattern. Although this should not come with a big initial list of UAs, one  missing UA is searched and added to the list<br /><br /><br /><span style="font-weight: bold"><span style="font-size: 150%; line-height: 116%;"><span style="color: #0000FF">D.2 Dead cells appearing during expansion </span></span></span><br /><br /><br />In the article describing the proof that no 16 clue exists, this was well described.<br /><br />Expanding UAs , we end with a set of cells hitting all UAs. Usually, several UAs contain more than one cell of the final set. If we have no filter, the expansion will produce many redundant sets.<br /><br />Let’s take the first UA expanded. Any valid containing the first cell assigned will appear in the expansion of the first cell.<br /><br />The same is true for the followings cells withing the same branch of expansion.<br />Such cells can be flagged as “dead”.  The number of “dead cells”  varies in a wide range. Let’s assume that the first 4 UAs are disjoints and of size 4. After 4 clues, the number of dead cells will be in the range 0-12 (assuming that the 4 cells of the set are non counted.<br /><br /><span style="font-weight: bold"><span style="font-size: 150%; line-height: 116%;"><span style="color: #0000FF">D.3 Remaining UAs status after n cells assigned </span></span></span><br /><br /><br />Let’s assume that 6 UAs have been assigned. <br />All UAs hit by these 6 clues are discarded<br />All dead cells in the remaining UAs can be ignored.<br /><br />Erasing dead cells changes the residual count of  cells in each UA. An empty UA can show up; This means that we have a dead branch  with no possible new valid.<br />More often, this changes completely the order of the “smallest UAs” and new subsets can be seen, <br />Killing hit UAs, reordering UAs by residual size, applying new subset, we can build a reduced table of UAs lowering the work for the following steps.<br /><br />Doing such reduction for each cell would not be of high interest;<br />In the program, this is done after a step of 3/4 cells where the smallest 128 UAs  play a key role.<br /><br /><span style="font-weight: bold"><span style="font-size: 150%; line-height: 116%;"><span style="color: #0000FF">D.4 n cells expansion with a given set of UAs </span></span></span><br /><br />The basic function in the expansion process will be to select n cells from a UA table.<br />N is 3 or 4 in the process, going from 0 to 6/7 clues, 6/9 if the final count is 12 (to be confirmed later). <br /><br />This is done in similar functions, using a common table to store cell by cell data.<br /><br />We can expect in most cases that the first (smallest)  128 UAs will be sufficient to  expand 3/4 cells. These 28 UAs  are followed through a vector  updated in the process for each new cell.<br /><br />Remaining UAs are checked later if the first table is fully hit applying the set of cells assigned.<br />Fresh UAs appearing in the process can be added to the table, but must not be in the first 128. If the total number of UAs is &lt;128, the rest of the table for the first 128 is lost.<br /><br /><span style="font-weight: bold"><span style="font-size: 150%; line-height: 116%;"><span style="color: #0000FF">D.5 expansion of the last n cells </span></span></span><br /><br />If we are considering the 17 clues search pass 1, we have 2x3 cells assigned as described above. The last expansion step is for cells 7 to 10.<br /><br />This will produce <br />Potential valid bands 1+2 of size 10, the final count,<br />Potential valid of smaller size (size seven can be ignored)<br /><br />If the first 6 clues are made of cell hitting a small number of UAs, this can produce no valid. At the opposite, this can produce hundreds of valid.<br /><br />The expansion is done in once. The potential valid are stored in tables, one per size  below the final count and one for the final count.<br /><br />Each of these tables has a common number of clues &gt;= 6 (first steps here). If a table has one valid, the common number is equal to the size of the valid. Often, we will be somewhere in between;<br /><br />A good depth (number of residual clues to assign)  seems to be in the range 3/4. At the moment, the draft for the 12 clues expansion is not yet done, but as we expect to have many 12 despite the band/stack constraint 666/666, the planned expansion is to have 3x3 steps before the last on of depth 3 also.<br /><br /><span style="font-weight: bold"><span style="text-decoration: underline">Expansion of the last clue</span></span><br /><br />In all UAs expansion functions, the last clue must hit all remaining UAS;<br />This is very easy to implement, so, in any place where it is possible, the last step will combine first all still valid UAs to find common cells. In most cases, we have no common cell.<br /><br />With more than one clue to assign, we have no easy way to simplify the process.<br /><br /><span style="font-weight: bold"><span style="text-decoration: underline">Fresh UAs coming later</span></span><br /><br />Here, the UAs set is locked. If fresh UAs for bands 1+2 are seen later, they must be stored n a special table to be reused for this chunk of valid.<br /><br /><span style="font-weight: bold"><span style="font-size: 150%; line-height: 116%;"><span style="color: #0000FF">D.6 Summary of the expansion phases </span></span></span><br /><br />We have the following structure:<br /><br /><dl class="codebox"><dt>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></dt><dd><code>Search of 17 clues<br />Pass1 (10) &nbsp; &nbsp;3+3+4<br />Pass2 (11)&nbsp; &nbsp;&nbsp; &nbsp;3+4+4<br /><br />Search of 18 clues<br />Pass1 (11)&nbsp; &nbsp;&nbsp; &nbsp;3+4+4<br />Pass2(12)&nbsp; &nbsp;&nbsp; &nbsp;3+3+3+3&nbsp; &nbsp;(project to implement) </code></dd></dl><br /><br /><br /><br /><span style="font-weight: bold"><span style="font-size: 150%; line-height: 116%;"><span style="color: #0000FF">D.7 Sorting and shrinking a UA table by size </span></span></span><br /><br />For UAs and later GUAs,  we have similar tasks to cover<br /><br />Deleting UAs hit by the known cells<br />Erasing dead cells from still valid UAs<br />Sorting  such UAs by size<br />Erasing supersets.<br /><br />As the sort operation is quite simple, the process uses vectors bit fields (one vector per size).<br />Bits are set to 1 in the relevant vector depending on the size of the UA, then UAs are taken by increasing size and sent to the final location.<br /><br />In the final location, UAs are stored in blocs of 128 UAs, with bit field vector giving for each cell the UAs non hit.<br />As the first bloc has a specific treatment in the expansion process, the total number of UAs is forced to a minimum of 128 to push fresh UAs appearing later in another bloc.<br /><br /><br /><span style="font-weight: bold"><span style="font-size: 150%; line-height: 116%;"><span style="color: #0000FF">D.8 After the last expansion step </span></span></span><br /><br />If we have reached the final count, we enter the phase 2 of the process, the GUAs filter. At this point, the final check of the validity is not done.<br />The only thing to do is to control that no fresh UA in bands 1+2 from a previous valid of the same chunk kills the potential validity.<br /><br />For the “valid below the final count” the final check is done in the last expansion step. We must here try as band 1+2 the given , but also any band 1+2 pattern obtained adding clues “up to the final count” with clues taken in the free cells (no dead cell) and in line with the constraints of the pass (eg: no band over 6 clues in a 12 clues pass).<br /><br />Again, to stay on the safe side,  we have several functions very similar processing each case with the relevant constraints applied.</div>

			
				<div class="notice">Last edited by <a href="./member2679.html">champagne</a> on Fri Oct 14, 2022 10:16 am, edited 2 times in total.
					
				</div>
			

		</div>

		
			<dl class="postprofile" id="profile325137">
			<dt>
				<a href="./member2679.html">champagne</a>
			</dt>

			<dd>2017 Supporter</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 7279</dd><dd><strong>Joined:</strong> 02 August 2007</dd><dd><strong>Location:</strong> France Brittany</dd>
			<dd>
				<ul class="profile-icons">
					<li class="web-icon"><a href="http://pagesperso-orange.fr/gpenet/" title="WWW: http://pagesperso-orange.fr/gpenet/"><span>Website</span></a></li>
				</ul>
			</dd>
		

		</dl>
	

		<div class="back2top"><a href="./17clues-v7-scan-18-clues-scan-t40329.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p325138" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			
				<ul class="profile-icons">
					<li class="quote-icon"><a href="./posting.php?mode=quote&amp;f=18&amp;p=325138" title="Reply with quote"><span>Reply with quote</span></a></li>
				</ul>
			

			<h3 ><a href="./17clues-v7-scan-18-clues-scan-t40329.html#p325138">minimal count band 3 filter</a></h3>
			<p class="author"><a href="./post325138.html#p325138"><img src="./styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a>by <strong><a href="./member2679.html">champagne</a></strong> &raquo; Sun Sep 11, 2022 7:07 am </p>

			

			<div class="content"><span style="font-weight: bold"><span style="font-size: 150%; line-height: 116%;"><span style="color: #0000FF">E Minimal count for clues in band 3 </span></span></span><br /><br />This chapter could also has been called “Use of GUa2s GUA3s as main filter for a given potential valid”.<br /><br />As written earlier, UAs having cells in band 3 located in a mini row are very important. <br />For a given set of clues in bands 1+2, We get a list of such UAs patterns in band 3 not hit (fully hit) in bands 1+2.<br /><br />This gives a minimum count of cells needed in band 3 (out of other UAS).<br /><br />One gua2 in a mini row =&gt; one clue <br />2 guas2 in a mini row =&gt; minimum one clue , possibly 2<br />3 guas6 in a mini row minimum 2 clues <br />A gua3 without gua2 minimum one clue.<br /><br />By experience, we can say that in most cases, this is more than the number of clues to assign in band3. <br />In other terms, for a given solution grid, most of the valid bands 1+2 will not pass a filter on the minimal count of clues in band 3.<br /><br />Having several bands 3 attached to a pair band1;band2, we consider first the 81 sockets of the gangsters UAs with 2 cells and the 81 sockets for the gangster UAs of size 3.<br />In the opening tasks, a maximum is done to switch easily from socket to pattern and reverse, from a socket to a band GUA2 GUA3...<br /><br />For each socket, we can have many GUAs. Once the clues in bands 1+2 locked, one GUA not hit is enough to make the band3 socket unavoidable. To have a valid global solution, all UAs must be hit.<br /><br />And we have to do the best use of fresh GUAs produced during the process in the final check of a potential valid 17 or 18.<br /><br />Last but not least, we can have thousands of such UAs if the cutoff of the UAs size is big. Even with a small cutoff, when many bands are attached, we have 162 sockets x average number of GUAs per socket to use, so several thousands of such UAs will be common.<br /><br />We have here the main parameters to explain how these GUAs are organized in the process.<br /><br /><span style="font-weight: bold"><span style="font-size: 150%; line-height: 116%;"><span style="color: #0000FF">E1 From the start to the last expansion in bands 1+2 </span></span></span><br /><br />We have no use of the GUAs as long as we don’t have the valid bands 1+2 (potential valid). What is done upstream is to prepare as much as possible the “per valid band1+2” task.<br /><br />Each assignment in bands 1+2 can reduce the number of still not hit UAs. Usually, some sockets are fully hit by the cells  of the digits in bands 1+2 corresponding to the socket.<br /><br />GUAs are stored with one table per socket with room for fresh GUAs. For each socket, a “killer” is built having all clues common to the GUAs of the family.<br /><br />An empty socket (no GUA)  will have a killer set to all ‘1’ (always hi)t.<br />A socket having a GUA with only dead cells in bands 1+2 will have an empty killer and no Gua (never hit, always forced in band 3) <br /><br />A reduced table is built after the final expansion if some valid have been seen.<br />This table structure is identical to the start structure. Dead cells and fresh subsets are applied to reduce the size of the table.<br /><br />This is of small interest if we have only a small number of valid bands 1+2 with the expected number of cells, but it will be a shared task for the average number of valid of the last expansion step and a shared task if any valid below the expected number of cells shows up.<br /><br />Note : in the 18 search pass2 (12 clues in bands 1+2)  the probability to have no valid after the first 6 clues is very low. A first reduction of the GUA2/3s tables will be done after 6 clues. A second on will be done after 9 clues, if the last expansion (10-12 clues) is not empty.<br /><span style="font-weight: bold"><span style="font-size: 150%; line-height: 116%;"><span style="color: #0000FF"><br />E2 after the last expansion in bands 1+2 </span></span></span><br /><br />If the final count is reached,  having checked that no fresh UA kills the validity, we can extract all valid sockets 2/3. <br />Then, we have to call the final loop on attached bands 3l, with this list of valid sockets.<br /><br />Here takes place the reduction of the GUAs tables, using the common cells of the set of potential valid having the final count.<br /><br />For each of the sets of the potential valid below the final count, we have the same process.<br /><br />The reduction of the GUAs table is done at the start (generally with more than 6 common cells) of the process of each group of a given size.<br />All “final status for bands1+2” are produced<br />And for each of them the extraction of sockets and the loop on bands 2 takes place as in the first case.<br /><br />Note : we could here think of other reductions of the sockets table when a clue is added (if several clues can be added);  <br /><br /><span style="font-weight: bold"><span style="font-size: 150%; line-height: 116%;"><span style="color: #0000FF"><br />E3 minimal count in a band 3 </span></span></span><br /><br />We start the process for a band 3 with the list of valid sockets (2/3). These valid are given in 2 x “81 bits fields”  to combine to the list of possible sockets of the band 3 built in the same way in the opening tasks.<br /><br />The status of the 9 mini rows is built out of this sockets status;<br />Four 8 bit fields tell us which mini row contains 1,2,3 sockets 2 or a socket3<br /><br />Sockets 3 are not considered if a socket2 (subset) exists in the same mini row.<br /><br />This gives us the minimum count of clues in band 3; If this count is over the expected number of clues, the job is over.<br /><br /><span style="font-weight: bold"><span style="text-decoration: underline">Minimal count field : </span></span> combining all pairs/triplets of the minimal count, we get the minimal count field. Any band 3 UA having common clues with the minimal count field will be said “<span style="font-weight: bold">in field</span>”; others will be said “<span style="font-weight: bold">outfield&quot;</span>.<br /><br />If we have band3 UAs outfield, the minimal count can be increased: by 1 if one cell (or more)  hits all UAs outfield, by 2 if no cell hits all the UAs out field.<br /><br />This property is used in due time in the process to stop as soon as possible.<br /><span style="font-weight: bold"><span style="font-size: 150%; line-height: 116%;"><span style="color: #0000FF"><br />E3 minimal count per stack and critical stack </span></span></span><br /><br />We can define a minimal count per stack as the count of known assigned plus the pending minimal count for the stack. No clue of this count can be added out of the cells contributing to the minimal count.<br />If this count is over the stack constraint, again, the band 3 is over<br />If this count is equal to the stack constraint, we have a critical stack.<br /><br />Note : <span style="font-weight: bold">if the minimal count is equal to the number of clues to add in band 3,  all stacks are critical.</span><br /><br />The critical stacks play a key role in the second phase of the process. <br /><br />In a critical stack, all cells not assigned and not in the  minimal count field are dead. <br />In any mini row of a critical stack containing 2 sockets, the common cell can be assigned;<br /><br />Both properties are very important.<br />Any assigned cell makes the final process much simpler. Some “other UAs” are hit, the minimal count field is reduced ;<br /><br />Applying dead cells to “other UAs” , we can meet one of the 2 classical situations :<br />An empty UA then the process can be cancelled for this band 3,<br />An UA reduced to one cell to assign as well. Such assign can be “out field”, increasing the number of clues in the corresponding stack. If several assign have to be done, we can have a conflict with too many clues to assign in a stack.<br /><br /><span style="font-weight: bold"><span style="font-size: 150%; line-height: 116%;"><span style="color: #0000FF">E4 process after effect of sockets minimal count </span></span></span><br /><br />If the filter on the minimal count is not active(not too many clues forced by GUA2s GUA3s), the process tries first to take benefit of all above remarks.<br />Critical assignments are done if possible.<br />UAs not “sockets UAs “ are extracted and reduced  (socket UAs are also entered in the table)<br />We have here UAs of the band 3 and the band 3 pattern of all UAs not GUAs and not hit. (see below for the life of UAs  not sockets UAs )<br /><br />This is explained in the next chapter <br /><br /><span style="font-size: 150%; line-height: 116%;"><span style="color: #0000FF"> E5 life of UAs not sockets </span></span><br /><br />UAs not sockets are UAs with clues in at least 2 bands  part of them in band 3.<br />Such UAs are found here in three ways :<br /><br />UAs with 2 digits produced at the very beginning,<br />Stack UAs produced at the end of the UAs harvest,<br />Fresh UAs produced in the final check.<br /><br />Although it would be possible to share such UAs between bands 3 having the appropriate pattern, They are just stored in each relevant band 3 In the limit of 300 UAs for a band 3.<br />As they have no use before the filter on the minimal count, we could use directly the base table to extract the band 3 part of UAs not yet hit.<br />To try to share part of the extraction, at the first need of these UAs for a given band, a preliminary reduction is done using the common clues of the chunk.<br /><br />The use of these UAs takes place after the check of the minimal count and after the first assignment of cells in critical stacks.</div>

			
				<div class="notice">Last edited by <a href="./member2679.html">champagne</a> on Fri Oct 14, 2022 1:13 pm, edited 1 time in total.
					
				</div>
			

		</div>

		
			<dl class="postprofile" id="profile325138">
			<dt>
				<a href="./member2679.html">champagne</a>
			</dt>

			<dd>2017 Supporter</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 7279</dd><dd><strong>Joined:</strong> 02 August 2007</dd><dd><strong>Location:</strong> France Brittany</dd>
			<dd>
				<ul class="profile-icons">
					<li class="web-icon"><a href="http://pagesperso-orange.fr/gpenet/" title="WWW: http://pagesperso-orange.fr/gpenet/"><span>Website</span></a></li>
				</ul>
			</dd>
		

		</dl>
	

		<div class="back2top"><a href="./17clues-v7-scan-18-clues-scan-t40329.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p325139" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			
				<ul class="profile-icons">
					<li class="quote-icon"><a href="./posting.php?mode=quote&amp;f=18&amp;p=325139" title="Reply with quote"><span>Reply with quote</span></a></li>
				</ul>
			

			<h3 ><a href="./17clues-v7-scan-18-clues-scan-t40329.html#p325139">final process band 3</a></h3>
			<p class="author"><a href="./post325139.html#p325139"><img src="./styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a>by <strong><a href="./member2679.html">champagne</a></strong> &raquo; Sun Sep 11, 2022 7:07 am </p>

			

			<div class="content">reserved</div>

			

		</div>

		
			<dl class="postprofile" id="profile325139">
			<dt>
				<a href="./member2679.html">champagne</a>
			</dt>

			<dd>2017 Supporter</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 7279</dd><dd><strong>Joined:</strong> 02 August 2007</dd><dd><strong>Location:</strong> France Brittany</dd>
			<dd>
				<ul class="profile-icons">
					<li class="web-icon"><a href="http://pagesperso-orange.fr/gpenet/" title="WWW: http://pagesperso-orange.fr/gpenet/"><span>Website</span></a></li>
				</ul>
			</dd>
		

		</dl>
	

		<div class="back2top"><a href="./17clues-v7-scan-18-clues-scan-t40329.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p325140" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			
				<ul class="profile-icons">
					<li class="quote-icon"><a href="./posting.php?mode=quote&amp;f=18&amp;p=325140" title="Reply with quote"><span>Reply with quote</span></a></li>
				</ul>
			

			<h3 ><a href="./17clues-v7-scan-18-clues-scan-t40329.html#p325140">crossing topics</a></h3>
			<p class="author"><a href="./post325140.html#p325140"><img src="./styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a>by <strong><a href="./member2679.html">champagne</a></strong> &raquo; Sun Sep 11, 2022 7:08 am </p>

			

			<div class="content">reserved</div>

			

		</div>

		
			<dl class="postprofile" id="profile325140">
			<dt>
				<a href="./member2679.html">champagne</a>
			</dt>

			<dd>2017 Supporter</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 7279</dd><dd><strong>Joined:</strong> 02 August 2007</dd><dd><strong>Location:</strong> France Brittany</dd>
			<dd>
				<ul class="profile-icons">
					<li class="web-icon"><a href="http://pagesperso-orange.fr/gpenet/" title="WWW: http://pagesperso-orange.fr/gpenet/"><span>Website</span></a></li>
				</ul>
			</dd>
		

		</dl>
	

		<div class="back2top"><a href="./17clues-v7-scan-18-clues-scan-t40329.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p327164" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			
				<ul class="profile-icons">
					<li class="quote-icon"><a href="./posting.php?mode=quote&amp;f=18&amp;p=327164" title="Reply with quote"><span>Reply with quote</span></a></li>
				</ul>
			

			<h3 ><a href="./17clues-v7-scan-18-clues-scan-t40329.html#p327164">Re: 17clues V7 scan 18 clues scan</a></h3>
			<p class="author"><a href="./post327164.html#p327164"><img src="./styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Post" title="Post" /></a>by <strong><a href="./member2679.html">champagne</a></strong> &raquo; Fri Oct 14, 2022 1:51 pm </p>

			

			<div class="content">slow progress, but things are going in the right direction.<br /><br />I continued to draft the V7  and to write comments. the source for the comments can be viewed here <br /><a href="https://gpenet.pagesperso-orange.fr/P17/p17_18.htm" class="postlink" rel="nofollow">https://gpenet.pagesperso-orange.fr/P17/p17_18.htm</a><br />this will be the first place for updates of the comments, updating a long post is not so easy.<br /><br />Tests on the new &quot;17 search pass 1&quot; have reached a &quot;beta test&quot; level.<br />Tests on the&quot; 17 search pass2a 2b&quot; have been started. Most of the code is common to all cases.<br /><br />Next step with 90% of the code common to the 17 search will start just after.<br />Is still missing the 18 clue search pass 2 (again 90% of the code is there).<br /><br />The repository contains plenty of testing and debugging code. The code will be cleaned later. Testing code is needed to-day<br /><br />Any remark on the comments or on the code is welcome.<br /><br />Benchmarks against the V6 used for the proof that all 17 are known should come in one or 2 weeks.</div>

			

		</div>

		
			<dl class="postprofile" id="profile327164">
			<dt>
				<a href="./member2679.html">champagne</a>
			</dt>

			<dd>2017 Supporter</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Posts:</strong> 7279</dd><dd><strong>Joined:</strong> 02 August 2007</dd><dd><strong>Location:</strong> France Brittany</dd>
			<dd>
				<ul class="profile-icons">
					<li class="web-icon"><a href="http://pagesperso-orange.fr/gpenet/" title="WWW: http://pagesperso-orange.fr/gpenet/"><span>Website</span></a></li>
				</ul>
			</dd>
		

		</dl>
	

		<div class="back2top"><a href="./17clues-v7-scan-18-clues-scan-t40329.html#wrap" class="top" title="Top">Top</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<form id="viewtopic" method="post" action="./17clues-v7-scan-18-clues-scan-t40329.html">

	<fieldset class="display-options" style="margin-top: 0; ">
		
		<label>Display posts from previous: <select name="st" id="st"><option value="0" selected="selected">All posts</option><option value="1">1 day</option><option value="7">7 days</option><option value="14">2 weeks</option><option value="30">1 month</option><option value="90">3 months</option><option value="180">6 months</option><option value="365">1 year</option></select></label>
		<label>Sort by <select name="sk" id="sk"><option value="a">Author</option><option value="t" selected="selected">Post time</option><option value="s">Subject</option></select></label> <label><select name="sd" id="sd"><option value="a" selected="selected">Ascending</option><option value="d">Descending</option></select> <input type="submit" name="sort" value="Go" class="button2" /></label>
		
	</fieldset>

	</form>
	<hr />


<div class="topic-actions">
	<div class="buttons">
	
		<div class="reply-icon"><a href="./posting.php?mode=reply&amp;f=18&amp;t=40329" title="Post a reply"><span></span>Post a reply</a></div>
	
	</div>

	
		<div class="pagination">
			9 posts
			 &bull; Page <strong>1</strong> of <strong>1</strong>
		</div>
	
</div>


	<p></p><p><a href="./software-f18.html" class="left-box left" accesskey="r">Return to Software</a></p>

	<form method="post" id="jumpbox" action="./viewforum.php" onsubmit="if(this.f.value == -1){return false;}">

	
		<fieldset class="jumpbox">
	
			<label for="f" accesskey="j">Jump to:</label>
			<select name="f" id="f" onchange="if(this.options[this.selectedIndex].value != -1){ document.forms['jumpbox'].submit() }">
			
				<option value="-1">Select a forum</option>
			<option value="-1">------------------</option>
				<option value="9">News and announcements</option>
			
				<option value="10">&nbsp; &nbsp;About the New Sudoku Players' Forum</option>
			
				<option value="5">Sudoku: the puzzle</option>
			
				<option value="7">&nbsp; &nbsp;General</option>
			
				<option value="33">&nbsp; &nbsp;Puzzles</option>
			
				<option value="4">&nbsp; &nbsp;Help with puzzles and solving techniques</option>
			
				<option value="6">&nbsp; &nbsp;Advanced solving techniques</option>
			
				<option value="8">&nbsp; &nbsp;Interactive games</option>
			
				<option value="18" selected="selected">&nbsp; &nbsp;Software</option>
			
				<option value="16">Resources</option>
			
				<option value="32">&nbsp; &nbsp;Published puzzles</option>
			
				<option value="31">&nbsp; &nbsp;Books</option>
			
				<option value="17">&nbsp; &nbsp;On the web</option>
			
				<option value="11">Related puzzles</option>
			
				<option value="12">&nbsp; &nbsp;Sudoku variants</option>
			
				<option value="13">&nbsp; &nbsp;Kakuro</option>
			
				<option value="14">&nbsp; &nbsp;Other logic puzzles</option>
			
				<option value="15">&nbsp; &nbsp;Inventors' studio</option>
			
				<option value="19">Off-topic</option>
			
				<option value="20">&nbsp; &nbsp;Coffee bar</option>
			
				<option value="29">&nbsp; &nbsp;Forum questions and feedback</option>
			
			</select>
			<input type="submit" value="Go" class="button2" />
		</fieldset>
	</form>

</div>

<div id="page-footer">

	<div class="navbar">
		<div class="inner"><span class="corners-top"><span></span></span>

		<ul class="linklist">
			<li class="icon-home"><a href="./" accesskey="h">Board index</a></li>
				
			<li class="rightside"><a href="./the-team.html">The team</a> &bull; <a href="./ucp.php?mode=delete_cookies">Delete all board cookies</a> &bull; All times are UTC </li>
		</ul>
		
		<span class="corners-bottom"><span></span></span></div>
	</div>

	<div class="copyright">Powered by <a href="https://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Group
		<br /><br /><a href="http://www.phpbb-seo.com/" title="Search Engine Optimization"><img src="./images/phpbb-seo.png" alt="phpBB SEO"/></a>
	</div>
</div>

</div>

<div>
	<a id="bottom" name="bottom" accesskey="z"></a>
	
</div>

</body>
</html>